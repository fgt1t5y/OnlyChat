@import 'tailwindcss';
@import 'tailwindcss-primeui';

@custom-variant dark (&:is(.dark *));

/*
 * Utility
 */
@utility text-danger {
  @apply text-red-600;
}

@utility border-content {
  @apply border-surface-300 dark:border-surface-700;
}

@utility bg-content {
  @apply bg-surface-50 dark:bg-surface-950;
}

@utility h-banner {
  @apply h-[100px] w-full;
}

@utility w-setting-page {
  @apply w-[600px];
}

@layer base {
  body {
    @apply text-color text-sm bg-content;
  }

  button {
    @apply cursor-pointer;
  }

  p {
    margin-block: 1em;
  }

  h1 {
    font-size: 2em;
    margin-block: 0.67em;
  }

  h2 {
    font-size: 1.5em;
    margin-block: 0.83em;
  }

  h3 {
    font-size: 1.17em;
    margin-block: 1em;
  }
}

:root {
  --main-title-height: 36px;
}

/*
 * Override
 */
.p-button .p-button-icon {
  font-size: 1.25rem !important;
}

.p-button-lg .p-button-icon {
  font-size: 1.5rem !important;
}

.p-inputtext {
  line-height: normal;
}

.p-button {
  font-size: inherit !important;
  line-height: normal;
}

.p-divider-content {
  background-color: transparent !important;
}

/*
 * Components
 */
#main-Title {
  @apply min-h-[36px] flex items-center justify-center bg-surface-200 dark:bg-surface-950;
}

#main-View {
  max-height: calc(100vh - var(--main-title-height));

  @apply select-none;
}

#main-Nav {
  @apply relative flex flex-col min-w-[350px] bg-surface-200 dark:bg-surface-950;
}

#main-Nav-User {
  @apply absolute rounded-border bottom-2 left-2 right-2 flex gap-2 items-center p-2 bg-surface-100 dark:bg-surface-800;
}

.menu-Link {
  @apply outline-2 outline-transparent rounded-border;

  &:hover {
    @apply outline-2 outline-primary;
  }

  &.router-link-active {
    @apply outline-2 outline-primary;
  }

  .p-avatar {
    @apply bg-white dark:bg-surface-900;
  }
}

.aside-Group-Title {
  @apply text-muted-color px-2 mb-1;
}

.router-Menu {
  @apply flex flex-col;
}

.router-Menu-Item {
  @apply flex items-center gap-2 p-2 rounded-border text-base hover:bg-surface-50 dark:hover:bg-surface-800;

  &.router-link-active {
    @apply text-primary bg-surface-50 dark:bg-surface-800;
  }

  a.router-link-active {
    @apply text-primary;
  }
}

.router-Menu-Item-Text {
  @apply grow;
}

.router-Menu-Item-DotBadge {
  @apply h-3 w-3 bg-primary rounded-full;
}

.router-Menu-Item-NumBadge {
  @apply px-2 rounded-full text-white font-bold text-[12px] bg-red-500;
}

.page {
  @apply flex flex-col grow border-t border-content bg-surface-100 dark:bg-surface-900;
}

.page-Title {
  @apply flex shrink-0 justify-between items-center gap-2 px-4 h-[48px] border-b border-content;

  i {
    @apply text-xl;
  }
}

.page-Aside {
  @apply min-w-[360px] bg-surface-50 dark:bg-surface-800 border-l border-content;
}

.list-Item {
  @apply p-2 rounded-border hover:bg-surface-200 dark:hover:bg-surface-800;
}

.message-Item {
  @apply flex gap-2 items-center px-2 hover:bg-surface-200 dark:hover:bg-surface-800 select-text;

  a {
    @apply text-primary;
  }

  a:hover {
    @apply underline;
  }

  p {
    margin-block: unset;
  }
}

.message-Item-Head {
  @apply items-start;
}

.message-Item-Tail {
  time {
    opacity: 0;
  }

  &:hover {
    time {
      opacity: 1;
    }
  }
}

.server-Avatar {
  @apply relative rounded-border shrink-0;
}

.server-Avatar-S-Size {
  @apply h-8 w-8 text-xl;
}

.server-Avatar-M-Size {
  @apply h-12 w-12 text-2xl;
}

.server-Avatar-L-Size {
  @apply h-20 w-20 text-3xl;
}

.server-Avatar-Image {
  @apply rounded-border aspect-square;
}

.server-Avatar-Empty {
  @apply h-full flex justify-center items-center rounded-border text-color bg-surface-300 dark:bg-surface-600;
}

.server-Avatar-Bordered {
  .server-Avatar-Empty,
  .server-Avatar-Image {
    @apply outline-5 outline-surface-100 dark:outline-surface-950;
  }
}

.user-Avatar {
  @apply relative rounded-full shrink-0;
}

.user-Avatar-S-Size {
  @apply h-8 w-8 text-xl;

  .user-Avatar-Dot {
    @apply h-3 w-3 absolute right-0 bottom-0 bg-surface-400 rounded-full;
  }
}

.user-Avatar-M-Size {
  @apply h-10 w-10 text-2xl;

  .user-Avatar-Dot {
    @apply h-3 w-3 absolute right-0 bottom-0 bg-surface-400 rounded-full;
  }
}

.user-Avatar-L-Size {
  @apply h-20 w-20 text-3xl;

  .user-Avatar-Dot {
    @apply h-4 w-4 absolute right-1 bottom-1 bg-surface-400 rounded-full;
  }
}

.user-Avatar-Image {
  @apply rounded-full aspect-square;
}

.user-Avatar-Empty {
  @apply h-full flex justify-center items-center rounded-full text-color bg-surface-300 dark:bg-surface-600;
}

.user-Avatar-Bordered {
  .user-Avatar-Empty,
  .user-Avatar-Image {
    @apply outline-5 outline-surface-100 dark:outline-surface-950;
  }
}

.user-Avatar-Is-Online .user-Avatar-Dot {
  @apply bg-green-500;
}

.chat-Input {
  @apply flex flex-col p-2 mx-2 mb-6 border border-content bg-transparent dark:bg-surface-900 rounded-border;

  input {
    @apply outline-0 text-base;
  }
}

.toggle-Button-On {
  @apply text-primary;
}

.toggle-Button-Off {
  @apply text-muted-color;
}

.dm-Session-Item {
  @apply flex;

  button {
    @apply opacity-0 text-color;
  }

  &:hover {
    button {
      @apply opacity-100;
    }
  }

  &:has(a.router-link-active) {
    @apply text-primary bg-surface-50 dark:bg-surface-800;
  }
}

.dm-Session-Item-Link {
  @apply flex gap-2 items-center grow;
}
